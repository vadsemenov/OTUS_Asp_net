# Домашнее задание №2. Добавляем EF Core с базой данных на SQLite и CRUD-API для основных сущностей.
Домашнее задание поможет научиться работать с EF Core, конфигурировать Code-first модель данных, а также писать простые REST-like API

## Описание
Сделать форк репозитория Homework 2 домашнего задания и реализовать пункты в нем

1. Добавить Entity Framework Core в DataAccess проект и сделать реализацию IRepository в виде EfRepository, которая будет работать с DataContext Entity Framework.
2. Добавить SQLite в качестве БД
3. База должна удаляться и создаваться каждый раз, заполняясь тестовыми данными из FakeDataFactory.
4. Настроить маппинг классов Employee, Roles, Customer,Preference и PromoCode на базу данных через EF. Обратить внимание, что PromoCode имеет ссылку на Preference и Employee имеет ссылку на Role. Customer имеет набор Preference, но так как Preference - это общий справочник и сущности связаны через Many-to-many, то нужно сделать маппинг через сущность CustomerPreference. Строковые поля должны иметь ограничения на MaxLength.
Связь Customer и Promocode реализовать через One-To-Many, будем считать, что в данном примере промокод может быть выдан только одному клиенту из базы.
5. Реализовать CRUD операции для CustomersController через репозиторий EF, нужно добавить новый Generic класс EfRepository. Получение списка, получение одного клиента, создание/редактирование и удаление, при удалении также нужно удалить ранее выданные промокоды клиента. Методы должны иметь xml комментарии для описания в Swagger. CustomerResponse также должен возвращать список предпочтений клиента с той же моделью PrefernceResponse
6. Нужно реализовать контроллер, который возвращает список предпочтений (Preference) в виде PrefernceResponse модели из базы данных. Метод должен иметь xml комментарии для описания в Swagger.
7. В качестве дополнительного задания реализовать методы PromoCodesController. Метод GivePromocodesToCustomersWithPreferenceAsync должен сохранять новый промокод в базе данных и находить клиентов с переданным предпочтением и добавлять им данный промокод. GetPromocodesAsync - здесь даты передаются строками, чтобы не было проблем с часовыми поясами
8. В качестве дополнительного задания реализовать две миграции: начальную миграцию и миграцию с изменением любого поля на выбор, в этом случае удаление на каждый запуск уже не должно происходить


Критерий оценивания

Пункты 1-3: по 1 баллу. <br>
Пункты 4-5: по 2 балла. <br>
Пункты 6-8: по 1 балл. <br>
Минимальный проходной порог: 7 баллов.